<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda de Frutas - Pasarela de Pago</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <h1>Tienda de Frutas</h1>
        <div class="cart-icon">
            <i class="material-icons">shopping_cart</i>
            <span id="cart-count" class="cart-count">0</span>
        </div>
    </header>

    <main class="main-content">
        <!-- Sección de Productos -->
        <section id="productos" class="productos">
            <h2>Nuestros Productos</h2>
            <div class="productos-grid">
                <!-- Producto 1 -->
                <div class="producto-card" data-id="1">
                    <div class="producto-img-container">
                        <img src="https://images.unsplash.com/photo-1550583724-b2692b85b150?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" 
                             alt="Fresas frescas" 
                             class="producto-img">
                        <div class="producto-badge">Nuevo</div>
                    </div>
                    <h3>Fresas Frescas</h3>
                    <p class="producto-desc">Dulces y jugosas fresas recién cosechadas</p>
                    <p class="producto-precio">$3.99 <span class="producto-unidad">/ 500g</span></p>
                    <div class="producto-acciones">
                        <div class="cantidad">
                            <button class="btn-cantidad" onclick="cambiarCantidad(this, -1)">-</button>
                            <span class="cantidad-num">0</span>
                            <button class="btn-cantidad" onclick="cambiarCantidad(this, 1)">+</button>
                        </div>
                        <button class="btn-agregar" onclick="agregarAlCarrito(this)">
                            <i class="material-icons">add_shopping_cart</i>
                        </button>
                    </div>
                </div>

                <!-- Producto 2 -->
                <div class="producto-card" data-id="2">
                    <div class="producto-img-container">
                        <img src="https://images.unsplash.com/photo-1573246123719-4b4b9a5c0a6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" 
                             alt="Melocotones jugosos" 
                             class="producto-img">
                        <div class="producto-badge">Popular</div>
                    </div>
                    <h3>Melocotones</h3>
                    <p class="producto-desc">Melocotones dulces y aromáticos</p>
                    <p class="producto-precio">$2.99 <span class="producto-unidad">/ 500g</span></p>
                    <div class="producto-acciones">
                        <div class="cantidad">
                            <button class="btn-cantidad" onclick="cambiarCantidad(this, -1)">-</button>
                            <span class="cantidad-num">0</span>
                            <button class="btn-cantidad" onclick="cambiarCantidad(this, 1)">+</button>
                        </div>
                        <button class="btn-agregar" onclick="agregarAlCarrito(this)">
                            <i class="material-icons">add_shopping_cart</i>
                        </button>
                    </div>
                </div>

                <!-- Producto 3 -->
                <div class="producto-card" data-id="3">
                    <div class="producto-img-container">
                        <img src="https://images.unsplash.com/photo-1603833665858-e61d17a86224?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" 
                             alt="Plátanos maduros" 
                             class="producto-img">
                        <div class="producto-badge oferta">Oferta</div>
                    </div>
                    <h3>Plátanos</h3>
                    <p class="producto-desc">Plátanos orgánicos de la mejor calidad</p>
                    <p class="producto-precio">$1.49 <span class="producto-unidad">/ kg</span></p>
                    <div class="producto-acciones">
                        <div class="cantidad">
                            <button class="btn-cantidad" onclick="cambiarCantidad(this, -1)">-</button>
                            <span class="cantidad-num">0</span>
                            <button class="btn-cantidad" onclick="cambiarCantidad(this, 1)">+</button>
                        </div>
                        <button class="btn-agregar" onclick="agregarAlCarrito(this)">
                            <i class="material-icons">add_shopping_cart</i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Carrito de Compras -->
        <aside class="carrito">
            <h2>Tu Carrito <i class="material-icons">shopping_cart</i></h2>
            <div id="carrito-items" class="carrito-items">
                <p class="carrito-vacio">Tu carrito está vacío</p>
            </div>
            <div class="carrito-total">
                <span>Total:</span>
                <span id="carrito-total">$0.00</span>
            </div>
            <button id="pagar-ahora" class="btn-pagar" disabled>
                <i class="material-icons">payment</i> Pagar Ahora
            </button>
        </aside>

        <!-- Pasarela de Pago (inicialmente oculta) -->
        <section id="pasarela-pago" class="pasarela-pago hidden">
            <div class="pago-contenedor">
                <div class="pago-tarjeta">
                    <div class="pago-encabezado">
                        <h2><i class="material-icons">credit_card</i> Información de Pago</h2>
                        <button class="btn-volver"><i class="material-icons">arrow_back</i> Volver al carrito</button>
                    </div>
                    
                    <form id="pago-form" class="pago-form">
                        <div class="form-grupo">
                            <label for="card-number">Número de tarjeta</label>
                            <div class="input-contenedor">
                                <i class="material-icons">credit_card</i>
                                <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19" required>
                            </div>
                        </div>
                        
                        <div class="form-fila">
                            <div class="form-grupo">
                                <label for="expiry">Vencimiento (MM/AA)</label>
                                <div class="input-contenedor">
                                    <i class="material-icons">calendar_today</i>
                                    <input type="text" id="expiry" placeholder="MM/AA" maxlength="5" required>
                                </div>
                            </div>
                            
                            <div class="form-grupo">
                                <label for="cvv">CVV</label>
                                <div class="input-contenedor">
                                    <i class="material-icons">lock</i>
                                    <input type="text" id="cvv" placeholder="123" maxlength="4" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-grupo">
                            <label for="email">Correo electrónico</label>
                            <div class="input-contenedor">
                                <i class="material-icons">email</i>
                                <input type="email" id="email" placeholder="tucorreo@ejemplo.com" required>
                            </div>
                        </div>
                        
                        <div class="resumen-compra">
                            <h3>Resumen de tu compra</h3>
                            <div id="resumen-items" class="resumen-items">
                                <!-- Los ítems del carrito se mostrarán aquí -->
                            </div>
                            <div class="resumen-total">
                                <span>Total a pagar:</span>
                                <span id="monto-total">$0.00</span>
                            </div>
                        </div>
                        
                        <button type="submit" id="pay-button" class="btn-confirmar-pago">
                            <i class="material-icons">lock</i> Pagar $<span id="amount-display">0.00</span>
                        </button>
                        
                        <p class="pago-seguro">
                            <i class="material-icons">security</i> Pago seguro y encriptado
                        </p>
                    </form>
                </div>
                
                <div class="pago-info">
                    <div class="info-tarjetas">
                        <h3>Tarjetas aceptadas</h3>
                        <div class="tarjetas-aceptadas">
                            <i class="fab fa-cc-visa"></i>
                            <i class="fab fa-cc-mastercard"></i>
                            <i class="fab fa-cc-amex"></i>
                            <i class="fab fa-cc-discover"></i>
                        </div>
                    </div>
                    
                    <div class="info-seguridad">
                        <h3><i class="material-icons">security</i> Compra segura</h3>
                        <p>Tus datos están protegidos con encriptación de 256 bits.</p>
                    </div>
                    
                    <div class="info-soporte">
                        <h3><i class="material-icons">support_agent</i> ¿Necesitas ayuda?</h3>
                        <p>Contáctanos en <a href="mailto:soporte@tiendafrutas.com">soporte@tiendafrutas.com</a></p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Recibo de pago (inicialmente oculto) -->
        <div id="receipt" class="recibo hidden">
            <div class="recibo-contenido">
                <div class="recibo-encabezado">
                    <i class="material-icons">check_circle</i>
                    <h2>¡Pago Completado!</h2>
                    <p>Tu pago se ha procesado correctamente</p>
                </div>
                
                <div class="recibo-detalles">
                    <div class="detalle">
                        <span>Monto pagado:</span>
                        <span id="receipt-amount" class="monto">$0.00</span>
                    </div>
                    <div class="detalle">
                        <span>Referencia:</span>
                        <span id="receipt-reference" class="referencia">PAY-XXXXXXX</span>
                    </div>
                    <div class="detalle">
                        <span>Fecha y hora:</span>
                        <span id="receipt-date" class="fecha">00/00/0000 00:00</span>
                    </div>
                    <div class="detalle">
                        <span>Método de pago:</span>
                        <span class="metodo">Tarjeta de crédito</span>
                    </div>
                </div>
                
                <div class="recibo-acciones">
                    <button id="nueva-compra" class="btn-primario">
                        <i class="material-icons">shopping_cart</i> Nueva Compra
                    </button>
                    <button id="ver-recibo" class="btn-secundario">
                        <i class="material-icons">receipt</i> Ver Recibo
                    </button>
                </div>
                
                <div class="recibo-footer">
                    <p>Gracias por tu compra en <strong>Tienda de Frutas</strong></p>
                    <p>Se ha enviado un correo de confirmación a tu dirección de email.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="pagos.js"></script>
    <script>
        // Función para mostrar notificaciones
        function mostrarNotificacion(mensaje) {
            const notificacion = document.createElement('div');
            notificacion.className = 'notificacion';
            notificacion.textContent = mensaje;
            document.body.appendChild(notificacion);
            
            setTimeout(() => {
                notificacion.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => {
                    document.body.removeChild(notificacion);
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>
